<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JS-{name}学习</title>
</head>
<script>
    window.onload = function () {
        var regexp = /gy1w/i;
        var str = "I am gyw";
        // 匹配：显示骑士位置；不匹配，返回-1
        console.log(str.search(regexp));
        // 内置对象 RegExp
        // test 方法判断是否匹配，不匹配返回-1
        console.log(regexp.test("gy1w is not my"));
        // exec 方法返回数组，放置匹配对象；否则，返回null
        console.log(regexp.exec("gy1w gy1w"));
        console.log("判断输入是否是数字、字母、下划线的组合");
        var liList = document.getElementsByTagName("li");
        for (var i = 0 ; i < liList.length ; i ++) {
            liList[i].onclick = function () {
                var input1 = document.getElementById("targetStr").value;
                var regExpresion = document.getElementById("reg-expresion").value;
                regExpresion = regExpresion.replace("\\", "\\\\");
                var regx = new RegExp(regExpresion);
                alert(regExpresion)

                var msg = document.getElementById("msg");
                msg.innerHTML = regx.test(input1);

                // console.log(input1.nodeName);
                // console.log(input1.nodeType);
                // console.log(input1.nodeValue);
                console.log("是否有效正则匹配：" + isValid(input1.value));
                console.log("是否全是字母：" + isAllLetter(input1.value));
                console.log("是否全是数字：" + isAllFigure(input1.value));
                console.log("是否是小数：" + isDecimal(input1.value));
                console.log("是否是中文：" + isChinese(input1.value));
                console.log("是否是手机号：" + isPhone(input1.value));
            };
        }


    }

    // 判断输入是否是数字、字母、下划线的组合
    function isValid(targetStr) {
        let regx = /^\w+$/;
        return regx.test(targetStr);
    }
    // 判断是否全是字母
    function isAllLetter(targetStr) {
        let regx = /[a-zA-Z]+$/;
        return regx.test(targetStr);
    }
    // 判断是否全是数字
    function isAllFigure(targetStr) {
        let regx = /\d+$/;
        return regx.test(targetStr);
    }
    // 判断是否是小数
    function isDecimal(targetStr) {
        // let regx = new RegExp("^\\d+\.\\d+$","");
        let regx = /^\d+\.\d+$/;
        return regx.test(targetStr);
    }
    // 判断是否中文名称组成
    function isChinese(targetStr) {
        let regx = /^[\u4E00-\u9FA5]{2,4}$/;
        return regx.test(targetStr);
    }
    // 校验电话号码
    function isPhone(targetStr) {
        let regx = /^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/;
        return regx.test(targetStr);
    }
    // 验证邮件是否合法
    function isEmail(targetStr) {
        let regx = /^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;
        return regx.test(targetStr);
    }
</script>

<body>
    <h2>JavaScript 正则表达式 学习</h2>
    <div id="msg"></div>
    <div>
        <p><input type="text" id="targetStr" value="" placeholder="输入需要匹配的字符串" /></p>
        <p><input type="text" id="reg-expresion" value="" placeholder="输入正则表达式" /></p>
    </div>
    <ul>
        <li>判断输入是否是数字、字母、下划线的组合</li>
        <li>判断是否全是字母</li>
        <li>判断是否全是数字</li>
        <li>判断是否是小数</li>
        <li>判断是否中文名称组成</li>
        <li>校验电话号码</li>
        <li>验证邮件是否合法</li>
    </ul>

</body>

</html>